{"ast":null,"code":"import _slicedToArray from \"@babel/runtime/helpers/slicedToArray\";\nimport _asyncToGenerator from \"@babel/runtime/helpers/asyncToGenerator\";\nimport Button from \"react-native-web/dist/exports/Button\";\nimport FlatList from \"react-native-web/dist/exports/FlatList\";\nimport SafeAreaView from \"react-native-web/dist/exports/SafeAreaView\";\nimport StyleSheet from \"react-native-web/dist/exports/StyleSheet\";\nimport Text from \"react-native-web/dist/exports/Text\";\nimport TouchableOpacity from \"react-native-web/dist/exports/TouchableOpacity\";\nimport View from \"react-native-web/dist/exports/View\";\nimport { useEffect, useState } from \"react\";\nimport axios from \"axios\";\nimport IP_ADDRESS from \"./Const\";\nimport AsyncStorage from \"@react-native-async-storage/async-storage\";\nimport { jsx as _jsx } from \"react/jsx-runtime\";\nimport { jsxs as _jsxs } from \"react/jsx-runtime\";\nvar getMemberId = function () {\n  var _ref = _asyncToGenerator(function* () {\n    return yield AsyncStorage.getItem(\"memberId\");\n  });\n  return function getMemberId() {\n    return _ref.apply(this, arguments);\n  };\n}();\nvar ChatRoomsScreen = function ChatRoomsScreen(_ref2) {\n  var navigation = _ref2.navigation;\n  var _useState = useState([]),\n    _useState2 = _slicedToArray(_useState, 2),\n    chatRooms = _useState2[0],\n    setChatRooms = _useState2[1];\n  var _useState3 = useState(\"\"),\n    _useState4 = _slicedToArray(_useState3, 2),\n    memberId = _useState4[0],\n    setMemberId = _useState4[1];\n  useEffect(function () {\n    var setting = function () {\n      var _ref3 = _asyncToGenerator(function* () {\n        var memberId = yield getMemberId();\n        setMemberId(memberId);\n      });\n      return function setting() {\n        return _ref3.apply(this, arguments);\n      };\n    }();\n    setting();\n    axios.get(`http://${IP_ADDRESS}:8080/members/${memberId}/chatroom`, {\n      headers: {\n        \"content-type\": \"Application/Json\"\n      }\n    }).then(function (value) {\n      setChatRooms(value.data);\n    });\n  }, [memberId]);\n  var Item = function Item(_ref4) {\n    var item = _ref4.item;\n    return _jsxs(TouchableOpacity, {\n      style: styles.chat_room_container,\n      onPress: function onPress() {\n        navigation.navigate(\"ChatScreen\", {\n          friendName: item.friendName,\n          friendId: item.friendId,\n          memberId: memberId,\n          chatRoomId: item.chatRoomId\n        });\n      },\n      children: [_jsx(Text, {\n        style: styles.name,\n        children: item.friendName\n      }), _jsx(Text, {\n        style: styles.text,\n        children: item.content\n      })]\n    });\n  };\n  return _jsx(SafeAreaView, {\n    style: styles.container,\n    children: _jsx(FlatList, {\n      data: chatRooms,\n      renderItem: function renderItem(_ref5) {\n        var item = _ref5.item;\n        return _jsx(Item, {\n          item: item\n        });\n      },\n      keyExtractor: function keyExtractor(item) {\n        return item.id;\n      }\n    })\n  });\n};\nvar styles = StyleSheet.create({\n  container: {\n    alignItems: \"center\",\n    justifyContent: \"center\",\n    flex: 1\n  },\n  name: {\n    fontSize: 20,\n    fontWeight: \"bold\"\n  },\n  text: {\n    fontSize: 15\n  },\n  chat_room_container: {\n    borderWidth: 2,\n    width: 300,\n    height: 70,\n    marginVertical: 5,\n    padding: 4,\n    justifyContent: \"center\",\n    alignItems: \"flex-start\",\n    borderRadius: 10\n  }\n});\nexport default ChatRoomsScreen;","map":{"version":3,"names":["useEffect","useState","axios","IP_ADDRESS","AsyncStorage","jsx","_jsx","jsxs","_jsxs","getMemberId","_ref","_asyncToGenerator","getItem","apply","arguments","ChatRoomsScreen","_ref2","navigation","_useState","_useState2","_slicedToArray","chatRooms","setChatRooms","_useState3","_useState4","memberId","setMemberId","setting","_ref3","get","headers","then","value","data","Item","_ref4","item","TouchableOpacity","style","styles","chat_room_container","onPress","navigate","friendName","friendId","chatRoomId","children","Text","name","text","content","SafeAreaView","container","FlatList","renderItem","_ref5","keyExtractor","id","StyleSheet","create","alignItems","justifyContent","flex","fontSize","fontWeight","borderWidth","width","height","marginVertical","padding","borderRadius"],"sources":["/Users/jeonjun-wan/Documents/sloppyTalk/src/main/frontend/ChatRoomsScreen.js"],"sourcesContent":["import {Button, FlatList, SafeAreaView, StyleSheet, Text, TouchableOpacity, View} from \"react-native\";\nimport {useEffect, useState} from \"react\";\nimport axios from \"axios\";\nimport IP_ADDRESS from \"./Const\";\nimport AsyncStorage from \"@react-native-async-storage/async-storage\";\n\nconst getMemberId = async() =>{\n    return await AsyncStorage.getItem(\"memberId\");\n\n}\n\nconst ChatRoomsScreen = ({navigation}) =>{\n\n    const [chatRooms, setChatRooms] = useState([]);\n    const [memberId, setMemberId] = useState(\"\");\n    useEffect( () => {\n\n        const setting = async () =>{\n            const memberId = await getMemberId();\n            setMemberId(memberId);\n        }\n\n        setting();\n\n        axios.get(\n            `http://${IP_ADDRESS}:8080/members/${memberId}/chatroom`,\n            {\n                headers:{\n                    \"content-type\" : \"Application/Json\"\n                }\n            }\n        )\n            .then(value => {\n                setChatRooms(value.data);\n\n            });\n    },[memberId]);\n\n    const Item = ({item}) => (\n        <TouchableOpacity style={styles.chat_room_container} onPress={()=>{\n            navigation.navigate(\n                \"ChatScreen\",\n                {\n                    friendName: item.friendName,\n                    friendId: item.friendId,\n                    memberId : memberId,\n                    chatRoomId : item.chatRoomId,\n            }\n            )\n        }}>\n            <Text style={styles.name}>{item.friendName}</Text>\n            <Text style={styles.text}>{item.content}</Text>\n        </TouchableOpacity>\n    )\n\n    return (\n        <SafeAreaView style={styles.container}>\n            <FlatList data={chatRooms}\n                      renderItem={({item}) => <Item item={item}/>}\n                      keyExtractor={item => item.id}\n            />\n        </SafeAreaView>\n    )\n}\n\nconst styles = StyleSheet.create({\n    container : {\n        alignItems : \"center\",\n        justifyContent : \"center\",\n        flex : 1\n    },\n    name: {\n        fontSize:20,\n        fontWeight:\"bold\"\n    },\n    text:{\n      fontSize:15\n    },\n    chat_room_container:{\n        borderWidth:2,\n        width : 300,\n        height : 70,\n        marginVertical : 5,\n        padding : 4,\n        justifyContent:\"center\",\n        alignItems :\"flex-start\",\n        borderRadius : 10\n    }\n})\n\nexport default ChatRoomsScreen;"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}