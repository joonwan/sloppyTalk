{"ast":null,"code":"import _asyncToGenerator from \"@babel/runtime/helpers/asyncToGenerator\";\nimport _slicedToArray from \"@babel/runtime/helpers/slicedToArray\";\nimport Button from \"react-native-web/dist/exports/Button\";\nimport FlatList from \"react-native-web/dist/exports/FlatList\";\nimport SafeAreaView from \"react-native-web/dist/exports/SafeAreaView\";\nimport StyleSheet from \"react-native-web/dist/exports/StyleSheet\";\nimport Text from \"react-native-web/dist/exports/Text\";\nimport TouchableOpacity from \"react-native-web/dist/exports/TouchableOpacity\";\nimport View from \"react-native-web/dist/exports/View\";\nimport { useEffect, useState } from \"react\";\nimport axios from \"axios\";\nimport IP_ADDRESS from \"./Const\";\nimport AsyncStorage from \"@react-native-async-storage/async-storage\";\nimport { jsx as _jsx } from \"react/jsx-runtime\";\nimport { jsxs as _jsxs } from \"react/jsx-runtime\";\nvar ChatRoomsScreen = function ChatRoomsScreen(_ref) {\n  var navigation = _ref.navigation;\n  var _useState = useState([]),\n    _useState2 = _slicedToArray(_useState, 2),\n    chatRooms = _useState2[0],\n    setChatRooms = _useState2[1];\n  var _useState3 = useState(\"\"),\n    _useState4 = _slicedToArray(_useState3, 2),\n    memberId = _useState4[0],\n    setMemberId = _useState4[1];\n  useEffect(function () {\n    var getMemberId = function () {\n      var _ref2 = _asyncToGenerator(function* () {\n        var memberId = yield AsyncStorage.getItem(\"memberId\");\n        console.log(memberId);\n        return memberId;\n      });\n      return function getMemberId() {\n        return _ref2.apply(this, arguments);\n      };\n    }();\n    axios.get(`http://${IP_ADDRESS}:8080/members/${memberId}/chatroom`, {\n      headers: {\n        \"content-type\": \"Application/Json\"\n      }\n    }).then(function (value) {\n      setChatRooms(value.data);\n      alert(JSON.stringify(value.data));\n    });\n  }, [memberId]);\n  var Item = function Item(_ref3) {\n    var friendName = _ref3.friendName,\n      content = _ref3.content;\n    return _jsxs(TouchableOpacity, {\n      style: styles.chat_room_container,\n      onPress: function onPress() {\n        return alert(\"press\");\n      },\n      children: [_jsx(Text, {\n        style: styles.name,\n        children: friendName\n      }), _jsx(Text, {\n        style: styles.text,\n        children: content\n      })]\n    });\n  };\n  return _jsx(SafeAreaView, {\n    style: styles.container,\n    children: _jsx(FlatList, {\n      data: chatRooms,\n      renderItem: function renderItem(_ref4) {\n        var item = _ref4.item;\n        return _jsx(Item, {\n          name: item.friendName,\n          content: item.content\n        });\n      },\n      keyExtractor: function keyExtractor(item) {\n        return item.id;\n      }\n    })\n  });\n};\nvar styles = StyleSheet.create({\n  container: {\n    alignItems: \"center\",\n    justifyContent: \"center\",\n    flex: 1\n  },\n  name: {\n    fontSize: 20,\n    fontWeight: \"bold\"\n  },\n  text: {\n    fontSize: 15\n  },\n  chat_room_container: {\n    borderWidth: 2,\n    width: 300,\n    height: 70,\n    marginVertical: 5,\n    padding: 4,\n    justifyContent: \"center\",\n    alignItems: \"flex-start\",\n    borderRadius: 10\n  }\n});\nexport default ChatRoomsScreen;","map":{"version":3,"names":["useEffect","useState","axios","IP_ADDRESS","AsyncStorage","jsx","_jsx","jsxs","_jsxs","ChatRoomsScreen","_ref","navigation","_useState","_useState2","_slicedToArray","chatRooms","setChatRooms","_useState3","_useState4","memberId","setMemberId","getMemberId","_ref2","_asyncToGenerator","getItem","console","log","apply","arguments","get","headers","then","value","data","alert","JSON","stringify","Item","_ref3","friendName","content","TouchableOpacity","style","styles","chat_room_container","onPress","children","Text","name","text","SafeAreaView","container","FlatList","renderItem","_ref4","item","keyExtractor","id","StyleSheet","create","alignItems","justifyContent","flex","fontSize","fontWeight","borderWidth","width","height","marginVertical","padding","borderRadius"],"sources":["/Users/jeonjun-wan/Documents/sloppyTalk/src/main/frontend/ChatRoomsScreen.js"],"sourcesContent":["import {Button, FlatList, SafeAreaView, StyleSheet, Text, TouchableOpacity, View} from \"react-native\";\nimport {useEffect, useState} from \"react\";\nimport axios from \"axios\";\nimport IP_ADDRESS from \"./Const\";\nimport AsyncStorage from \"@react-native-async-storage/async-storage\";\n\n\n\nconst ChatRoomsScreen = ({navigation}) =>{\n\n    const [chatRooms, setChatRooms] = useState([]);\n    const [memberId, setMemberId] = useState(\"\");\n    useEffect( () => {\n\n        const getMemberId = async() =>{\n            const memberId = await AsyncStorage.getItem(\"memberId\");\n            console.log(memberId);\n            return memberId;\n        }\n\n        axios.get(\n            `http://${IP_ADDRESS}:8080/members/${memberId}/chatroom`,\n            {\n                headers:{\n                    \"content-type\" : \"Application/Json\"\n                }\n            }\n\n        )\n            .then(value => {\n                setChatRooms(value.data);\n                alert(JSON.stringify(value.data));\n            });\n    },[memberId]);\n\n    const Item = ({friendName,content}) => (\n        <TouchableOpacity style={styles.chat_room_container} onPress={()=>alert(\"press\")}>\n            <Text style={styles.name}>{friendName}</Text>\n            <Text style={styles.text}>{content}</Text>\n        </TouchableOpacity>\n    )\n\n    return (\n        <SafeAreaView style={styles.container}>\n            <FlatList data={chatRooms}\n                      renderItem={({item}) => <Item name={item.friendName} content={item.content}/>}\n                      keyExtractor={item => item.id}\n            />\n        </SafeAreaView>\n    )\n}\n\nconst styles = StyleSheet.create({\n    container : {\n        alignItems : \"center\",\n        justifyContent : \"center\",\n        flex : 1\n    },\n    name: {\n        fontSize:20,\n        fontWeight:\"bold\"\n    },\n    text:{\n      fontSize:15\n    },\n    chat_room_container:{\n        borderWidth:2,\n        width : 300,\n        height : 70,\n        marginVertical : 5,\n        padding : 4,\n        justifyContent:\"center\",\n        alignItems :\"flex-start\",\n        borderRadius : 10\n    }\n})\n\nexport default ChatRoomsScreen;"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}