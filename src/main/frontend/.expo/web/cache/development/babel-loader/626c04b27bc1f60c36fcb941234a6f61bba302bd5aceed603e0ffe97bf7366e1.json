{"ast":null,"code":"import _slicedToArray from \"@babel/runtime/helpers/slicedToArray\";\nimport _asyncToGenerator from \"@babel/runtime/helpers/asyncToGenerator\";\nimport Button from \"react-native-web/dist/exports/Button\";\nimport FlatList from \"react-native-web/dist/exports/FlatList\";\nimport SafeAreaView from \"react-native-web/dist/exports/SafeAreaView\";\nimport StyleSheet from \"react-native-web/dist/exports/StyleSheet\";\nimport Text from \"react-native-web/dist/exports/Text\";\nimport TouchableOpacity from \"react-native-web/dist/exports/TouchableOpacity\";\nimport View from \"react-native-web/dist/exports/View\";\nimport { useEffect, useState } from \"react\";\nimport axios from \"axios\";\nimport IP_ADDRESS from \"./Const\";\nimport AsyncStorage from \"@react-native-async-storage/async-storage\";\nimport { jsx as _jsx } from \"react/jsx-runtime\";\nimport { jsxs as _jsxs } from \"react/jsx-runtime\";\nvar getMemberId = function () {\n  var _ref = _asyncToGenerator(function* () {\n    var memberId = yield AsyncStorage.getItem(\"memberId\");\n    return memberId;\n  });\n  return function getMemberId() {\n    return _ref.apply(this, arguments);\n  };\n}();\nvar ChatRoomsScreen = function ChatRoomsScreen(_ref2) {\n  var navigation = _ref2.navigation;\n  var _useState = useState([]),\n    _useState2 = _slicedToArray(_useState, 2),\n    chatRooms = _useState2[0],\n    setChatRooms = _useState2[1];\n  var _useState3 = useState(\"\"),\n    _useState4 = _slicedToArray(_useState3, 2),\n    memberId = _useState4[0],\n    setMemberId = _useState4[1];\n  useEffect(function () {\n    var setting = function () {\n      var _ref3 = _asyncToGenerator(function* () {\n        yield getMemberId().then(function (value) {\n          return setMemberId(value);\n        });\n      });\n      return function setting() {\n        return _ref3.apply(this, arguments);\n      };\n    }();\n    setting();\n    axios.get(`http://${IP_ADDRESS}:8080/members/${memberId}/chatroom`, {\n      headers: {\n        \"content-type\": \"Application/Json\"\n      }\n    }).then(function (value) {\n      return setChatRooms(value.data);\n    });\n  }, []);\n  var Item = function Item(_ref4) {\n    var name = _ref4.name,\n      content = _ref4.content;\n    return _jsxs(TouchableOpacity, {\n      style: styles.chat_room_container,\n      onPress: function onPress() {\n        return alert(\"press\");\n      },\n      children: [_jsx(Text, {\n        style: styles.name,\n        children: name\n      }), _jsx(Text, {\n        style: styles.text,\n        children: content\n      })]\n    });\n  };\n  return _jsx(SafeAreaView, {\n    style: styles.container,\n    children: _jsx(FlatList, {\n      data: chatRooms,\n      renderItem: function renderItem(_ref5) {\n        var item = _ref5.item;\n        return _jsx(Item, {\n          name: item.friendName,\n          content: item.content\n        });\n      },\n      keyExtractor: function keyExtractor(item) {\n        return item.id;\n      }\n    })\n  });\n};\nvar styles = StyleSheet.create({\n  container: {\n    alignItems: \"center\",\n    justifyContent: \"center\",\n    flex: 1\n  },\n  name: {\n    fontSize: 20,\n    fontWeight: \"bold\"\n  },\n  text: {\n    fontSize: 15\n  },\n  chat_room_container: {\n    borderWidth: 2,\n    width: 300,\n    height: 70,\n    marginVertical: 5,\n    padding: 4,\n    justifyContent: \"center\",\n    alignItems: \"flex-start\",\n    borderRadius: 10\n  }\n});\nexport default ChatRoomsScreen;","map":{"version":3,"names":["useEffect","useState","axios","IP_ADDRESS","AsyncStorage","jsx","_jsx","jsxs","_jsxs","getMemberId","_ref","_asyncToGenerator","memberId","getItem","apply","arguments","ChatRoomsScreen","_ref2","navigation","_useState","_useState2","_slicedToArray","chatRooms","setChatRooms","_useState3","_useState4","setMemberId","setting","_ref3","then","value","get","headers","data","Item","_ref4","name","content","TouchableOpacity","style","styles","chat_room_container","onPress","alert","children","Text","text","SafeAreaView","container","FlatList","renderItem","_ref5","item","friendName","keyExtractor","id","StyleSheet","create","alignItems","justifyContent","flex","fontSize","fontWeight","borderWidth","width","height","marginVertical","padding","borderRadius"],"sources":["/Users/jeonjun-wan/Documents/sloppyTalk/src/main/frontend/ChatRoomsScreen.js"],"sourcesContent":["import {Button, FlatList, SafeAreaView, StyleSheet, Text, TouchableOpacity, View} from \"react-native\";\nimport {useEffect, useState} from \"react\";\nimport axios from \"axios\";\nimport IP_ADDRESS from \"./Const\";\nimport AsyncStorage from \"@react-native-async-storage/async-storage\";\n\nconst getMemberId = async() =>{\n    const memberId = await AsyncStorage.getItem(\"memberId\");\n    return memberId;\n}\n\nconst ChatRoomsScreen = ({navigation}) =>{\n\n    const [chatRooms, setChatRooms] = useState([]);\n    const [memberId, setMemberId] = useState(\"\");\n    useEffect( () => {\n\n        const setting = async () =>{\n            await getMemberId().then(value => setMemberId(value));\n        }\n\n        setting();\n\n        axios.get(\n            `http://${IP_ADDRESS}:8080/members/${memberId}/chatroom`,\n            {\n                headers:{\n                    \"content-type\" : \"Application/Json\"\n                }\n            }\n\n        )\n            .then(value => setChatRooms(value.data));\n    },[]);\n\n    const Item = ({name,content}) => (\n        <TouchableOpacity style={styles.chat_room_container} onPress={()=>alert(\"press\")}>\n            <Text style={styles.name}>{name}</Text>\n            <Text style={styles.text}>{content}</Text>\n        </TouchableOpacity>\n    )\n\n    return (\n        <SafeAreaView style={styles.container}>\n            <FlatList data={chatRooms}\n                      renderItem={({item}) => <Item name={item.friendName} content={item.content}/>}\n                      keyExtractor={item => item.id}\n            />\n        </SafeAreaView>\n    )\n}\n\nconst styles = StyleSheet.create({\n    container : {\n        alignItems : \"center\",\n        justifyContent : \"center\",\n        flex : 1\n    },\n    name: {\n        fontSize:20,\n        fontWeight:\"bold\"\n    },\n    text:{\n      fontSize:15\n    },\n    chat_room_container:{\n        borderWidth:2,\n        width : 300,\n        height : 70,\n        marginVertical : 5,\n        padding : 4,\n        justifyContent:\"center\",\n        alignItems :\"flex-start\",\n        borderRadius : 10\n    }\n})\n\nexport default ChatRoomsScreen;"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}