{"ast":null,"code":"import _slicedToArray from \"@babel/runtime/helpers/slicedToArray\";\nimport _asyncToGenerator from \"@babel/runtime/helpers/asyncToGenerator\";\nimport Text from \"react-native-web/dist/exports/Text\";\nimport View from \"react-native-web/dist/exports/View\";\nimport StyleSheet from \"react-native-web/dist/exports/StyleSheet\";\nimport Button from \"react-native-web/dist/exports/Button\";\nimport FlatList from \"react-native-web/dist/exports/FlatList\";\nimport SafeAreaView from \"react-native-web/dist/exports/SafeAreaView\";\nimport React, { useEffect, useState } from \"react\";\nimport AsyncStorage from \"@react-native-async-storage/async-storage\";\nimport axios from \"axios\";\nimport { jsx as _jsx } from \"react/jsx-runtime\";\nimport { jsxs as _jsxs } from \"react/jsx-runtime\";\nfunction findPeople(_x) {\n  return _findPeople.apply(this, arguments);\n}\nfunction _findPeople() {\n  _findPeople = _asyncToGenerator(function* (sessionId) {\n    try {\n      return yield axios.get(\"http://localhost:8080/members/\" + sessionId);\n    } catch (e) {\n      console.log(\"axios error : \" + e);\n    }\n  });\n  return _findPeople.apply(this, arguments);\n}\nfunction getSessionId() {\n  return _getSessionId.apply(this, arguments);\n}\nfunction _getSessionId() {\n  _getSessionId = _asyncToGenerator(function* () {\n    var sessionId = yield AsyncStorage.getItem(\"sessionId\");\n    return sessionId;\n  });\n  return _getSessionId.apply(this, arguments);\n}\nvar PeopleScreen = function PeopleScreen() {\n  var _useState = useState([]),\n    _useState2 = _slicedToArray(_useState, 2),\n    data = _useState2[0],\n    setData = _useState2[1];\n  var _useState3 = useState(\"\"),\n    _useState4 = _slicedToArray(_useState3, 2),\n    sessionId = _useState4[0],\n    setSessionId = _useState4[1];\n  useEffect(function () {\n    function initSessionId() {\n      return _initSessionId.apply(this, arguments);\n    }\n    function _initSessionId() {\n      _initSessionId = _asyncToGenerator(function* () {\n        return yield getSessionId();\n      });\n      return _initSessionId.apply(this, arguments);\n    }\n    var result = initSessionId();\n    result.then(function (value) {\n      setSessionId(value);\n    });\n  }, [sessionId, data]);\n  var Item = function Item(_ref) {\n    var memberName = _ref.memberName,\n      memberId = _ref.memberId;\n    return _jsxs(View, {\n      style: styles.member_container,\n      children: [_jsx(Text, {\n        style: styles.text,\n        children: memberName\n      }), _jsx(Button, {\n        title: \"follow\",\n        onPress: _asyncToGenerator(function* () {\n          var targetId = memberId;\n          var data = JSON.stringify({\n            targetId: targetId\n          });\n          alert(data);\n          yield axios.post(`http://localhost:8080/members/${sessionId}/follow`, data, {\n            headers: {\n              'Content-Type': 'application/json'\n            }\n          });\n        })\n      })]\n    });\n  };\n  return _jsxs(SafeAreaView, {\n    style: styles.container,\n    children: [_jsx(View, {\n      style: styles.searchSection,\n      children: _jsx(Button, {\n        title: \"Search\",\n        onPress: function onPress() {\n          var promise = findPeople(sessionId);\n          promise.then(function (value) {\n            return setData(value.data);\n          });\n        }\n      })\n    }), _jsx(FlatList, {\n      data: data,\n      renderItem: function renderItem(_ref3) {\n        var item = _ref3.item;\n        return _jsx(Item, {\n          memberName: item.memberName,\n          memberId: item.memberId\n        });\n      },\n      keyExtractor: function keyExtractor(item) {\n        return item.memberid;\n      }\n    })]\n  });\n};\nvar styles = StyleSheet.create({\n  container: {\n    flex: 1,\n    alignItems: \"center\"\n  },\n  searchSection: {},\n  member_container: {\n    flex: 1,\n    borderWidth: 2,\n    width: 300,\n    height: 80,\n    marginVertical: 5,\n    padding: 4,\n    flexDirection: \"row\",\n    justifyContent: \"space-between\",\n    alignItems: \"center\",\n    borderRadius: 10\n  },\n  text: {\n    fontSize: 15\n  }\n});\nexport default PeopleScreen;","map":{"version":3,"names":["React","useEffect","useState","AsyncStorage","axios","jsx","_jsx","jsxs","_jsxs","findPeople","_x","_findPeople","apply","arguments","_asyncToGenerator","sessionId","get","e","console","log","getSessionId","_getSessionId","getItem","PeopleScreen","_useState","_useState2","_slicedToArray","data","setData","_useState3","_useState4","setSessionId","initSessionId","_initSessionId","result","then","value","Item","_ref","memberName","memberId","View","style","styles","member_container","children","Text","text","Button","title","onPress","targetId","JSON","stringify","alert","post","headers","SafeAreaView","container","searchSection","promise","FlatList","renderItem","_ref3","item","keyExtractor","memberid","StyleSheet","create","flex","alignItems","borderWidth","width","height","marginVertical","padding","flexDirection","justifyContent","borderRadius","fontSize"],"sources":["/Users/jeonjun-wan/Documents/sloppyTalk/src/main/frontend/PeopleScreen.js"],"sourcesContent":["import {Text, View, StyleSheet, Button, FlatList, SafeAreaView} from \"react-native\";\nimport React, {useEffect, useState} from \"react\";\nimport AsyncStorage from \"@react-native-async-storage/async-storage\";\nimport axios from \"axios\";\n\nasync function findPeople(sessionId){\n\n    try{\n        return await axios.get(\"http://localhost:8080/members/\" + sessionId);\n\n    }catch(e){\n        console.log(\"axios error : \" + e);\n    }\n}\n\nasync function getSessionId(){\n    const sessionId = await AsyncStorage.getItem(\"sessionId\");\n    return sessionId;\n}\nconst PeopleScreen = () => {\n\n    const [data, setData] = useState([]);\n    const [sessionId, setSessionId] = useState(\"\");\n\n    useEffect(() => {\n\n        async function initSessionId(){\n            return await getSessionId();\n        }\n\n        const result = initSessionId();\n        result.then(value => {setSessionId(value)});\n\n\n    },[sessionId, data]);\n\n    const Item = ({memberName,memberId}) => (\n        <View style={styles.member_container}>\n            <Text style={styles.text}>{memberName}</Text>\n            <Button title=\"follow\" onPress={async () => {\n                const targetId = memberId;\n                const data = JSON.stringify({targetId})\n                alert(data);\n                await axios.post(`http://localhost:8080/members/${sessionId}/follow`,\n                    data,{\n                        headers:{\n                            'Content-Type': 'application/json'\n                        }\n                    });\n\n\n\n            }}/>\n        </View>\n    );\n\n\n    return (\n        <SafeAreaView style={styles.container}>\n\n            <View style={styles.searchSection}>\n                <Button title=\"Search\" onPress={() => {\n                    const promise= findPeople(sessionId);\n                    promise.then(value => setData(value.data));\n                }}/>\n            </View>\n            <FlatList data={data}\n                      renderItem={({item}) => <Item memberName={item.memberName} memberId={item.memberId}/>}\n                      keyExtractor={item => item.memberid}\n            />\n        </SafeAreaView>\n    )\n}\n\nconst styles = StyleSheet.create({\n    container:{\n        flex:1,\n        alignItems:\"center\"\n    },\n    searchSection : {\n\n    },\n    member_container:{\n        flex:1,\n        borderWidth:2,\n        width : 300,\n        height : 80,\n        marginVertical : 5,\n        padding : 4,\n        flexDirection : \"row\",\n        justifyContent : \"space-between\",\n        alignItems :\"center\",\n        borderRadius : 10\n\n\n    },\n    text:{\n        fontSize : 15\n    }\n})\n\nexport default PeopleScreen;"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}