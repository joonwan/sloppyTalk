{"ast":null,"code":"import _slicedToArray from \"@babel/runtime/helpers/slicedToArray\";\nimport _asyncToGenerator from \"@babel/runtime/helpers/asyncToGenerator\";\nimport Button from \"react-native-web/dist/exports/Button\";\nimport FlatList from \"react-native-web/dist/exports/FlatList\";\nimport SafeAreaView from \"react-native-web/dist/exports/SafeAreaView\";\nimport StyleSheet from \"react-native-web/dist/exports/StyleSheet\";\nimport Text from \"react-native-web/dist/exports/Text\";\nimport View from \"react-native-web/dist/exports/View\";\nimport AsyncStorage from \"@react-native-async-storage/async-storage\";\nimport React, { useEffect, useState } from \"react\";\nimport axios from \"axios\";\nimport IP_ADDRESS from \"./Const\";\nimport { jsx as _jsx } from \"react/jsx-runtime\";\nimport { jsxs as _jsxs } from \"react/jsx-runtime\";\nfunction getSessionId() {\n  return _getSessionId.apply(this, arguments);\n}\nfunction _getSessionId() {\n  _getSessionId = _asyncToGenerator(function* () {\n    return yield AsyncStorage.getItem(\"sessionId\");\n  });\n  return _getSessionId.apply(this, arguments);\n}\nvar FriendsScreen = function FriendsScreen(_ref) {\n  var route = _ref.route,\n    navigation = _ref.navigation;\n  var _useState = useState([]),\n    _useState2 = _slicedToArray(_useState, 2),\n    data = _useState2[0],\n    setData = _useState2[1];\n  var memberId = route.params;\n  useEffect(function () {\n    function setting() {\n      return _setting.apply(this, arguments);\n    }\n    function _setting() {\n      _setting = _asyncToGenerator(function* () {\n        return yield getSessionId();\n      });\n      return _setting.apply(this, arguments);\n    }\n    var promise = setting();\n    promise.then(function () {\n      var _ref2 = _asyncToGenerator(function* (value) {\n        try {\n          var result = yield axios.get(`http://${IP_ADDRESS}:8080/members/${value}/friends`, {\n            headers: {\n              'Content-Type': 'application/json'\n            }\n          });\n          setData(result.data);\n        } catch (e) {\n          console.log(\"axios error : \" + e);\n        }\n      });\n      return function (_x) {\n        return _ref2.apply(this, arguments);\n      };\n    }());\n  }, []);\n  var Item = function Item(_ref3) {\n    var friendId = _ref3.friendId,\n      friendName = _ref3.friendName;\n    return _jsxs(View, {\n      style: styles.member_container,\n      children: [_jsx(Text, {\n        style: styles.text,\n        children: friendName\n      }), _jsx(Button, {\n        title: \"chat\",\n        onPress: function onPress() {\n          console.log(friendId);\n          console.log(friendName);\n          navigation.navigate(\"ChatScreen\", {\n            friendName: friendName,\n            friendId: friendId,\n            memberId: memberId\n          });\n        }\n      })]\n    });\n  };\n  return _jsxs(SafeAreaView, {\n    style: styles.container,\n    children: [_jsx(FlatList, {\n      data: data,\n      renderItem: function renderItem(_ref4) {\n        var item = _ref4.item;\n        return _jsx(Item, {\n          friendId: item.friendId,\n          friendName: item.friendName\n        });\n      },\n      keyExtractor: function keyExtractor(item) {\n        return item.friendId;\n      }\n    }), _jsx(Button, {\n      title: \"async\",\n      onPress: function onPress() {\n        function setting() {\n          return _setting2.apply(this, arguments);\n        }\n        function _setting2() {\n          _setting2 = _asyncToGenerator(function* () {\n            return yield getSessionId();\n          });\n          return _setting2.apply(this, arguments);\n        }\n        var promise = setting();\n        promise.then(function () {\n          var _ref5 = _asyncToGenerator(function* (value) {\n            try {\n              var result = yield axios.get(`http://${IP_ADDRESS}:8080/members/${value}/friends`, {\n                headers: {\n                  'Content-Type': 'application/json'\n                }\n              });\n              setData(result.data);\n            } catch (e) {\n              console.log(\"axios error : \" + e);\n            }\n          });\n          return function (_x2) {\n            return _ref5.apply(this, arguments);\n          };\n        }());\n      }\n    })]\n  });\n};\nvar styles = StyleSheet.create({\n  container: {\n    alignItems: \"center\",\n    justifyContent: \"center\",\n    flex: 1\n  },\n  member_container: {\n    flex: 1,\n    borderWidth: 2,\n    width: 300,\n    height: 80,\n    marginVertical: 5,\n    padding: 4,\n    flexDirection: \"row\",\n    justifyContent: \"space-between\",\n    alignItems: \"center\",\n    borderRadius: 10\n  },\n  text: {\n    fontSize: 15\n  }\n});\nexport default FriendsScreen;","map":{"version":3,"names":["AsyncStorage","React","useEffect","useState","axios","IP_ADDRESS","jsx","_jsx","jsxs","_jsxs","getSessionId","_getSessionId","apply","arguments","_asyncToGenerator","getItem","FriendsScreen","_ref","route","navigation","_useState","_useState2","_slicedToArray","data","setData","memberId","params","setting","_setting","promise","then","_ref2","value","result","get","headers","e","console","log","_x","Item","_ref3","friendId","friendName","View","style","styles","member_container","children","Text","text","Button","title","onPress","navigate","SafeAreaView","container","FlatList","renderItem","_ref4","item","keyExtractor","_setting2","_ref5","_x2","StyleSheet","create","alignItems","justifyContent","flex","borderWidth","width","height","marginVertical","padding","flexDirection","borderRadius","fontSize"],"sources":["/Users/jeonjun-wan/Documents/sloppyTalk/src/main/frontend/FriendsScreen.js"],"sourcesContent":["import {Button, FlatList, SafeAreaView, StyleSheet, Text, View} from \"react-native\";\nimport AsyncStorage from \"@react-native-async-storage/async-storage\";\nimport React, {useEffect, useState} from \"react\";\nimport axios from \"axios\";\nimport IP_ADDRESS from \"./Const\";\n\nasync function getSessionId(){\n    return await AsyncStorage.getItem(\"sessionId\");\n}\n\nconst FriendsScreen = ({route,navigation}) =>{\n\n    const [data, setData] = useState([]);\n    const memberId = route.params;\n\n    useEffect(() =>{\n        async function setting(){\n            return await getSessionId();\n        }\n        const promise = setting();\n\n        promise.then(async (value) =>\n            {\n               try{\n                   const result= await axios.get(`http://${IP_ADDRESS}:8080/members/${value}/friends`,\n                       {\n                           headers:{\n                               'Content-Type': 'application/json'\n                           }\n                       }\n                   );\n                   setData(result.data);\n               }catch(e){\n                   console.log(\"axios error : \" + e);\n               }\n\n            }\n        );\n\n    },[]);\n\n    const Item = ({friendId,friendName}) => (\n        <View style={styles.member_container}>\n            <Text style={styles.text}>{friendName}</Text>\n            <Button title=\"chat\" onPress={\n                () => {\n                    console.log(friendId);\n                    console.log(friendName);\n                    navigation.navigate(\"ChatScreen\", {\n                        friendName: friendName,\n                        friendId: friendId,\n                        memberId\n                    })\n                }\n            }\n            />\n        </View>\n    )\n    return (\n        <SafeAreaView style={styles.container}>\n            <FlatList data={data}\n                      renderItem={({item}) => <Item friendId={item.friendId} friendName={item.friendName}/>}\n                      keyExtractor={item => item.friendId}\n            />\n            <Button title=\"async\" onPress={() => {\n                async function setting(){\n                    return await getSessionId();\n                }\n                const promise = setting();\n\n                promise.then(async (value) =>\n                    {\n                        try{\n                            const result= await axios.get(`http://${IP_ADDRESS}:8080/members/${value}/friends`,\n                                {\n                                    headers:{\n                                        'Content-Type': 'application/json'\n                                    }\n                                }\n                            );\n                            setData(result.data);\n                        }catch(e){\n                            console.log(\"axios error : \" + e);\n                        }\n\n                    }\n                );\n            }}/>\n        </SafeAreaView>\n    )\n}\n\nconst styles = StyleSheet.create({\n    container:{\n        alignItems:\"center\",\n        justifyContent : \"center\",\n        flex:1\n\n    },\n    member_container:{\n        flex:1,\n        borderWidth:2,\n        width : 300,\n        height : 80,\n        marginVertical : 5,\n        padding : 4,\n        flexDirection : \"row\",\n        justifyContent : \"space-between\",\n        alignItems :\"center\",\n        borderRadius : 10\n\n\n    },\n    text:{\n        fontSize : 15\n    }\n})\n\nexport default FriendsScreen"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}